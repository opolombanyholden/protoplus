<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Content Editor</title>
        <script src="../prototype.js" type="text/javascript"></script>
        <script src="../protoplus.js" type="text/javascript"></script>
        <style>
            #source,
            #area{
                border:1px solid #ccc;
                height:350px;
                width:450px;
            }
        </style>
        <script>
            function indentCode(code){
                return code;
            }
            document.ready(function(){
                $('source').hide();
                $('area').contentEditable = true;
                $('source').value = $('area').innerHTML
                $('area').observe('keyup', function(){
                    $('source').value = $('area').innerHTML;
                });
                
                var sourceHidden = true;
                $('btn_source').onclick = function(){
                    if(sourceHidden){
                        $('source').value = indentCode($('source').value);
                        $('source').show();
                        $('area').hide();
                        sourceHidden = false;
                    }else{
                        $('source').hide();
                        $('area').show();
                        sourceHidden = true;
                        $('area').innerHTML = $('source').value;
                    }
                }
                
            })
        </script>
	</head>
	<body>
	    <table cellpadding="0" cellspacing="0">
	        <tr>
	            <td>
	                <table cellpadding="0" cellspacing="0">
	                    <tr>
	                        <td><input type="button" value="save"></td>
                            <td><input type="button" value="B"></td>
                            <td><input type="button" value="U"></td>
                            <td><input type="button" value="T"></td>
                            <td><input type="button" id="btn_source" value="Source"></td>
	                    </tr>
	                </table>
	            </td>
            </tr>
            <tr><td>
            	    <div id="area"></div>
                    <textarea id="source"></textarea>
                </td>
            </tr>
        </table>
	</body>
</html>
